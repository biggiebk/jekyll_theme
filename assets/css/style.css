:root {
  --bg: rgb(23, 32, 36);
  --fg: rgb(192, 239, 254);
  --muted: rgba(192,239,254,0.6);
  --accent: #2dd4bf;
}

* { box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: var(--bg);
  color: var(--fg);
  line-height:1.6;
}

.wrap{ max-width:900px; margin:0 auto; padding:2rem; }
.site-header{ border-bottom:1px solid rgba(255,255,255,0.03); padding:1rem 0; }
.site-title a{ color:var(--fg); text-decoration:none; }
.site-main{ padding:2rem 0; }
.site-footer{ border-top:1px solid rgba(255,255,255,0.03); padding:1rem 0; color:var(--muted); }

h1,h2,h3{ color:var(--fg); margin-top:0; }

a{ color:var(--accent); }

/* Code block styling */
pre, code{ background: transparent; color: var(--fg); }
pre{ padding:1rem; overflow:auto; border-radius:6px; background: rgba(255,255,255,0.02); }
code{ font-family: SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", monospace; }

/* Small tweaks for highlight.js - use its default classes but adjust colors to our theme */
.hljs{ display:block; overflow-x:auto; padding:1rem; background: transparent; color: var(--fg); }
.hljs-comment, .hljs-quote { color: #7f8a8d; }
.hljs-keyword, .hljs-selector-tag, .hljs-subst { color: #ff7b72; }
.hljs-number, .hljs-literal, .hljs-variable, .hljs-template-variable, .hljs-tag .hljs-attr { color: #ffb86b; }
.hljs-string, .hljs-doctag { color: #9bdc8f; }
.hljs-title, .hljs-section, .hljs-selector-id { color: #8be9fd; }
.hljs-subst { color: var(--fg); }
.hljs-emphasis { font-style: italic; }
.hljs-strong { font-weight: 700; }

/* Copy button for code blocks */
.code-wrapper{ position: relative; }
.copy-btn{
  position: absolute;
  top: 8px;
  right: 8px;
  background: rgba(0,0,0,0.2);
  border: 1px solid rgba(255,255,255,0.06);
  color: var(--fg);
  padding: 0.25rem 0.5rem;
  font-size: 0.85rem;
  border-radius: 4px;
  cursor: pointer;
  backdrop-filter: blur(4px);
  z-index: 5; /* ensure button is above code and line numbers */
}
.copy-btn:active{ transform: translateY(1px); }
.copy-btn.copied{ background: var(--accent); color: #082; border-color: rgba(0,0,0,0.1); }

/* Site grid with left TOC */
.site-grid{ display:grid; grid-template-columns: 220px 1fr; gap:2rem; align-items:start; }
.site-toc{ position:sticky; top:1rem; max-height:calc(100vh - 2rem); overflow:auto; padding-right:1rem; }
.toc-nav{ font-size:0.95rem; color:var(--muted); }
.toc-nav ul{ list-style:none; margin:0; padding:0; }
.toc-nav li{ margin:0.25rem 0; }
.toc-nav a{ color:var(--muted); text-decoration:none; }
.toc-nav a:hover{ color:var(--fg); }
.toc-nav .toc-level-1 > a{ font-weight:600; color:var(--fg); }
.toc-nav .toc-level-2{ padding-left:0.5rem; }
.toc-nav .toc-level-3{ padding-left:1rem; font-size:0.9rem; }
.toc-nav a.active{ color:var(--accent); }

/* Responsive: hide TOC on small screens */
@media (max-width: 900px){
  .site-grid{ grid-template-columns: 1fr; }
  .site-toc{ display:none; }
  .wrap{ padding:1rem; }
}

/* Line numbers for code blocks */
.code-wrapper{ position: relative; }
.code-wrapper ol.line-numbers{
  position: absolute;
  left: 6px;
  top: 8px;
  margin: 0;
  padding: 0;
  width: 2.1rem;
  text-align: right;
  color: var(--muted);
  pointer-events: none;
  font-size: 0.95rem;
  line-height: 1.5rem;
  /* Use a monospace numeric font and enable tabular numbers for perfect alignment */
  font-family: SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", ui-monospace, monospace;
  font-variant-numeric: tabular-nums;
  -moz-font-feature-settings: "tnum" 1;
  -webkit-font-feature-settings: "tnum" 1;
  font-feature-settings: "tnum" 1;
  z-index: 3;
}
.code-wrapper ol.line-numbers li{
  list-style: none;
  height: 1.5rem;
  padding: 0 0.45rem;
  /* ensure digits use the tabular numbers feature as well */
  font-variant-numeric: tabular-nums;
}

/* Shift code to the right to make room for line numbers */
.code-wrapper pre { /* remove left padding on pre so it doesn't double-pad with .hljs */
  padding-left: 0;
  position: relative;
  z-index: 1;
}
.code-wrapper .hljs { /* single left padding so code sits closer to line numbers */
  padding-left: calc(0.4rem + 2.1rem);
  position: relative;
  z-index: 1;
  /* Ensure the code lines use the same font-size/line-height as the line-numbers */
  font-size: 0.95rem;
  line-height: 1.5rem;
  white-space: pre; /* avoid wrapping which would desync line numbers */
}


